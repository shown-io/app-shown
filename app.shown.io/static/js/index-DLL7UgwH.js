import{aB as w,o as A,H as o,s,ag as L,bz as D,a0 as R,w as G,f as K,h as H,bB as T,bC as S,bw as q,af as z}from"./vendor-CqSKez46.js";import{ad as F,ay as W,az as J,s as V,p as Q,E as b,x as U,t as X,w as Y,F as r,aA as Z,aB as ss,aC as es,L as as,S as u,T as k,aD as M,r as C,aE as ns,A as is,m as ts}from"./index-VnkSLCvX.js";import{C as os}from"./Container-hy6JMS2q.js";import{L as ls,F as O}from"./FieldLabelActions-BJOL6nnJ.js";import{C as cs}from"./CountrySelect-CLNLJuB-.js";import{u as ds}from"./Hooks-CnpTTde6.js";import{u as I,F as x}from"./Field-BEb06DRx.js";import{D as rs}from"./DeleteConfirmationModal-ChnozjQ0.js";import{u as $}from"./useBusinessMutations-DNttzLgN.js";import{A as us}from"./AudienceLanguageSelect-dFIuOByM.js";import{B as ms}from"./BusinessLogo-Bb9v3naH.js";import{B as gs}from"./BusinessBrandColors-CP96BEGK.js";import{G as ps,R as bs}from"./index-G4W8qfrW.js";const xs=()=>{const{fetch:e}=I(),i=F(n=>n.selectedBusinessId),l=w({mutationFn:()=>W(Number(i)),onSuccess:n=>(e(),n)}),d=w({mutationFn:n=>J(Number(i),n),onSuccess:n=>(e(),n)});return{generateBusinessAssetsMutation:l,editBusinessAssetsMutation:d}},fs=A(ps).withConfig({displayName:"BusinessToneOfVoice__GroupStyled"})(["display:grid;grid-template-columns:1fr 1fr;gap:",";","{grid-template-columns:1fr;}"],V(2),Q(U,"max")),hs=A(bs).withConfig({displayName:"BusinessToneOfVoice__RadioButtonStyled"})(["margin:0;span.ant-radio + *{display:flex;align-items:center;gap:",";padding:0;}.ant-radio-disabled + span{color:",";}"],V(2),e=>e.theme.colors.text.inactive),_s=[{iconName:b.BusinessToneOfVoiceProfessional,value:"professional"},{iconName:b.BusinessToneOfVoiceCasual,value:"casual"},{iconName:b.BusinessToneOfVoiceHumorous,value:"humorous"},{iconName:b.BusinessToneOfVoiceInformative,value:"informative"},{iconName:b.BusinessToneOfVoiceOptimistic,value:"optimistic"},{iconName:b.BusinessToneOfVoiceMotivational,value:"motivating"}],js=({fieldName:e,disabled:i})=>{const l=X(),d=o.useCallback(t=>i?l.colors.text.inactive:t?l.colors.primary.default:l.colors.background.icon,[l,i]),n=o.useCallback(({input:t})=>s.jsx(fs,{$block:!0,value:t.value,onChange:t.onChange,disabled:i,children:_s.map(c=>s.jsxs(hs,{$hideRadio:!0,value:c.value,children:[s.jsx(Y,{iconName:c.iconName,background:d(c.value===t.value),width:24,height:24}),s.jsx(r,{id:`business.business_assets_tone_of_voice_${c.value}`})]},c.value))}),[i,d]);return s.jsx(L,{name:e,render:n})},j=({fieldNames:e,handleSubmit:i,fields:l,...d})=>{const[n,t]=o.useState(!1),c=D(),g=ds(e),y=o.useCallback(()=>t(!0),[]),m=o.useCallback(()=>{g?(t(!1),i(c.getState().values)):c.submit()},[c,g,i]),v=o.useCallback(()=>{Z(c),t(!1)},[c]);return s.jsxs(s.Fragment,{children:[s.jsx(ls,{onSave:m,onCancel:v,onChange:y,isEditing:n,...d}),l({editing:n})]})},ys=A(es).withConfig({displayName:"BusinessDelete__ButtonStyled"})(["color:"," !important;&:hover{color:"," !important;}"],e=>e.theme.colors.danger.default,e=>e.theme.colors.danger.default),vs=e=>{const{push:i}=R(),{deleteBusinessMutation:l}=$(),[d,n]=o.useState(!1),t=o.useCallback(()=>n(!0),[]),c=o.useCallback(()=>n(!1),[]),g=o.useCallback(async()=>{await l.mutateAsync(),i(ss)},[l,i]);return s.jsxs(s.Fragment,{children:[s.jsx(ys,{type:"link",onClick:t,"data-testid":"delete-business-button",...e,children:s.jsx(r,{id:"business.delete_business"})}),s.jsx(rs,{isOpen:d,onClose:c,onDelete:g,isDeleting:l.isPending})]})};var Bs=(e=>(e.logo="logo",e.description="description",e.name="name",e.mainWebsite="main_website",e.language="language_iso",e.colors="colors",e.toneOfVoice="tone_of_voice",e.company="company",e.address="address",e.city="city",e.country="country",e.postalCode="postal_code",e.tax="tax",e))(Bs||{});const Ps=()=>{const e=G(),{data:i}=as(),{address:l}=i,{updateBusinessAddressMutation:d,editBusinessMutation:n}=$(),{data:t,isLoading:c,isError:g,isSuccess:y}=I(),{editBusinessAssetsMutation:m}=xs(),v=o.useMemo(()=>{var a;return{name:i.name,main_website:(a=i==null?void 0:i.main_website)==null?void 0:a.url,language_iso:{value:t==null?void 0:t.language_iso},...K(t,["language_iso"]),...l}},[i,t,l]),h=o.useMemo(()=>["company","address","country","city","postal_code","tax"],[]),B=o.useCallback(async(a,p)=>{await n.mutateAsync({...a},p)},[n]),_=o.useCallback(a=>{m.mutateAsync({...a})},[m]),N=o.useCallback(async a=>{await d.mutateAsync({...H(a,h)})},[d,h]),f=o.useCallback((a,p,P=!1)=>s.jsxs(T,{gutter:[20,P?0:20],children:[s.jsx(S,{xs:24,sm:24,md:12,children:a}),s.jsx(S,{xs:24,sm:24,md:12,children:p})]}),[]),E=o.useCallback(()=>s.jsxs(s.Fragment,{children:[s.jsx(u,{$spacing:4,children:s.jsx(k,{type:"headline",variant:"h5",weight:"bold",children:s.jsx(r,{id:"business.settings_brand_assets"})})}),s.jsx(u,{$spacing:4,children:s.jsx(ms,{fieldName:"logo"})}),s.jsx(T,{children:s.jsxs(S,{xs:24,sm:24,lg:16,children:[s.jsxs(u,{$spacing:4,children:[f(s.jsx(O,{name:"name",validator:M(e),handleSubmit:a=>B({name:a}),isSaving:n.isPending,labelSubtitleKey:"business.settings_campany_name",placeholderKey:"business.settings_campany_name"}),s.jsx(O,{name:"main_website",handleSubmit:a=>B({main_website:a},{main_website:{url:a}}),isSaving:n.isPending,labelSubtitleKey:"business.business_main_url",placeholderKey:"business.business_main_url"})),s.jsx(u,{$spacing:4,children:s.jsx(j,{fieldNames:["language_iso"],handleSubmit:a=>{var p;return _({language_iso:(p=a.language_iso)==null?void 0:p.value})},fields:({editing:a})=>s.jsx(us,{name:"language_iso",disabled:!a}),label:s.jsx(r,{id:"common.language"}),isSaving:m.isPending})}),s.jsx(u,{$spacing:4,children:s.jsx(j,{fieldNames:["colors"],handleSubmit:a=>_({colors:a.colors}),fields:({editing:a})=>s.jsx(gs,{disabled:!a,fieldName:"colors"}),label:s.jsx(r,{id:"business.settings_brand_colors"}),isSaving:m.isPending})}),s.jsx(u,{children:s.jsx(j,{fieldNames:["tone_of_voice"],handleSubmit:a=>_({tone_of_voice:a.tone_of_voice}),fields:({editing:a})=>s.jsx(js,{disabled:!a,fieldName:"tone_of_voice"}),label:s.jsx(r,{id:"business.settings_tone_of_voice"}),isSaving:m.isPending})})]}),s.jsx(u,{$spacing:4,children:s.jsx(k,{type:"headline",variant:"h5",weight:"bold",children:s.jsx(r,{id:"business.settings_legal_information"})})}),s.jsx(u,{children:s.jsx(j,{fieldNames:h,handleSubmit:N,isSaving:d.isPending,label:s.jsx("span",{}),fields:({editing:a})=>s.jsxs(s.Fragment,{children:[s.jsx(u,{$spacing:2,children:f(s.jsx(x,{name:"company",id:"company",type:"text",validators:M(e),labelSubTitle:s.jsx(r,{id:"business.settings_campany_name"}),placeholderId:"business.settings_campany_name",disabled:!a,spaced:!1}),s.jsx(x,{type:"text",name:"address",validators:C(e),labelSubTitle:s.jsx(r,{id:"business.settings_address"}),placeholderId:"business.settings_address",disabled:!a,spaced:!1}))}),s.jsx(u,{$spacing:2,children:f(s.jsx(x,{name:"country",validators:ns(e),labelSubTitle:s.jsx(r,{id:"common.country"}),placeholderId:"common.country",disabled:!a,spaced:!1,inputField:s.jsx(cs,{disabled:!a,fieldName:"country"})}),s.jsx(x,{name:"city",validators:C(e),labelSubTitle:s.jsx(r,{id:"common.city"}),placeholderId:"common.city",disabled:!a,spaced:!1}))}),s.jsx(u,{children:f(s.jsx(x,{name:"postal_code",validators:C(e),labelSubTitle:s.jsx(r,{id:"common.postal_code"}),placeholderId:"common.postal_code",disabled:!a,spaced:!1}),s.jsx(x,{name:"tax",labelSubTitle:s.jsx(r,{id:"business.settings_tax"}),placeholderId:"business.settings_tax",disabled:!a,spaced:!1}),!0)})]})})}),s.jsx(u,{$spacingTop:2,children:s.jsx(vs,{})})]})})]}),[f,e,n.isPending,m.isPending,h,N,d.isPending,B,_]);return s.jsx(is,{children:s.jsx(os,{children:s.jsx(ts,{loading:c,isSuccess:y,error:g,children:s.jsx(q,{onSubmit:z,initialValues:v,render:E})})})})};export{js as B,Bs as F,Ps as S,_s as T,xs as u};
//# sourceMappingURL=index-DLL7UgwH.js.map
